<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <title>CRUD</title>
    <style>
      .center {
        display: block;
        margin: auto;
      }
      .btnt {
        padding: 20px;
        background-color: rgb(37, 199, 37);
        text-transform: uppercase;
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-dark bg-dark bg-opacity-50">
        <div class="container-fluid">
          <a class="navbar-brand">Navbar</a>
          <form class="d-flex">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button class="btn btn-outline-dark" type="submit">Search</button>
          </form>
        </div>
      </nav>
    </header>
    <main>
      <section style="background-color: black">
        <h3 class="text-center text-light">toggle image</h3>
        <img
          id="pic"
          class="center"
          src="../Img/code.png"
          alt=" code"
          width="500px"
        />
        <button id="btnt" class="btnt center">View Output</button>
      </section>
      <section>
        <div class="container mt-5 col-lg-6" id="parentdiv">
          <h3 class="text-center">Add list</h3>
          <div class="input-group mb-3 mt-3 border">
            <input
              type="text"
              class="form-control"
              placeholder="Enter list item"
              aria-label="Recipient's username"
              aria-describedby="button-addon2"
            />
            <button
              id="add"
              class="btn btn-primary"
              type="button"
              id="button-addon2"
            >
              Add
            </button>
          </div>
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              value="Item 1"
              placeholder="Garbage item"
              disabled
            />
            <button
              class="btn btn-warning"
              type="button"
              onclick="editItem(this)"
            >
              Edit
            </button>
            <button
              class="btn btn-danger"
              type="button"
              onclick="removeItem(this)"
            >
              Delete
            </button>
          </div>
        </div>
      </section>
    </main>
    <footer style="height: 100px"></footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script>
      // toggle
      let btn = document.getElementById("btnt");
      let pic = document.getElementById("pic");
      btn.addEventListener("click", togglebtn);
      function togglebtn(event) {
        if (btn.textContent.includes("output")) {
          pic.src = "../Img/output.png";
          btn.textContent = "view code";
        } else {
          pic.src = "../Img/code.png";
          btn.textContent = "view output";
        }
      }

      // add list
      let add = document.getElementById("add");
      add.addEventListener("click", addlist);
      function addlist(e) {
        let addbtn = e.currentTarget;
        let curinp = addbtn.previousElementSibling;
        let item = curinp.value;
        let newdiv = document.createElement("div");
        newdiv.className = "input-group";
        newdiv.innerHTML = `<input
              type="text"
              class="form-control"
              value="${item}"
              placeholder="Garbage item"
              disabled
            />
            <button class="btn btn-warning" type="button" onclick="editItem(this)">Edit</button>
            <button class="btn btn-danger" type="button" onclick="removeItem(this)">Delete</button>`;
        let parent = document.getElementById("parentdiv");
        parent.appendChild(newdiv);
      }

      // delete item
      function removeItem(curelement) {
        curelement.parentElement.remove();
      }

      // Edit item
      function editItem(curelement) {
        if (curelement.textContent.includes("Edit")) {
          curelement.textContent = "Done";
          let inputElement = curelement.previousElementSibling;
          inputElement.disabled = false;
        } else {
          curelement.textContent = "Edit";
          let inputElement = curelement.previousElementSibling;
          inputElement.disabled = true;
        }
      }
    </script>
  </body>
</html>
